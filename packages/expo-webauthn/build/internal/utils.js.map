{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/internal/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,IAAI,CAAA;AAG3B;;GAEG;AACH,MAAM,UAAU,oBAAoB,CAAC,MAAoB;IACvD,MAAM,UAAU,GACd,MAAM,YAAY,UAAU;QAC1B,CAAC,CAAC,MAAM;QACR,CAAC,CAAC,IAAI,UAAU,CAAC,MAAM,YAAY,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IAC5E,OAAO,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAA;AACrC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,MAAc;IAChD,OAAO,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,CAAA;AACtC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,sBAAsB,CAAC,SAAiB;IACtD,MAAM,MAAM,GAAG,SAAS;SACrB,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;SAClB,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;SAClB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;SAClB,MAAM,CACL,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EACrD,GAAG,CACJ,CAAA;IAEH,OAAO,IAAI,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAA;AACtD,CAAC","sourcesContent":["import { Base64 } from 'ox'\nimport type { BufferSource } from './webauthn'\n\n/**\n * Converts a BufferSource to a base64 string.\n */\nexport function bufferSourceToBase64(buffer: BufferSource): string {\n  const uint8Array =\n    buffer instanceof Uint8Array\n      ? buffer\n      : new Uint8Array(buffer instanceof ArrayBuffer ? buffer : buffer.buffer)\n  return Base64.fromBytes(uint8Array)\n}\n\n/**\n * Converts a base64 string to an ArrayBuffer\n * @internal\n */\nexport function base64ToArrayBuffer(base64: string): ArrayBuffer {\n  return Base64.toBytes(base64).buffer\n}\n\n/**\n * Converts a base64url string to an ArrayBuffer.\n * Handles URL-safe characters and padding according to RFC 4648.\n */\nexport function base64URLToArrayBuffer(base64url: string): ArrayBuffer {\n  const base64 = base64url\n    .replace(/-/g, '+')\n    .replace(/_/g, '/')\n    .replace(/=+$/, '')\n    .padEnd(\n      base64url.length + ((4 - (base64url.length % 4)) % 4),\n      '='\n    )\n\n  return new Uint8Array(Base64.toBytes(base64)).buffer\n}\n"]}