{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/internal/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,MAAM,WAAW,CAAA;AAItD;;;;;GAKG;AACH,MAAM,UAAU,oBAAoB,CAAC,MAAoB;IACvD,MAAM,UAAU,GACd,MAAM,YAAY,UAAU;QAC1B,CAAC,CAAC,MAAM;QACR,CAAC,CAAC,IAAI,UAAU,CAAC,MAAM,YAAY,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;IAC5E,OAAO,aAAa,CAAC,UAAU,CAAC,CAAA;AAClC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,MAAc;IAChD,MAAM,UAAU,GAAG,WAAW,CAAC,MAAM,CAAC,CAAA;IACtC,OAAO,UAAU,CAAC,MAAqB,CAAA;AACzC,CAAC;AAED,MAAM,UAAU,sBAAsB,CAAC,SAAiB;IACtD,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;IAC9D,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAC1B,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAC/C,GAAG,CACJ,CAAA;IACD,MAAM,UAAU,GAAG,WAAW,CAAC,MAAM,CAAC,CAAA;IACtC,OAAO,UAAU,CAAC,MAAqB,CAAA;AACzC,CAAC","sourcesContent":["import { fromByteArray, toByteArray } from 'base64-js'\n\nimport type { BufferSource } from './webauthn'\n\n/**\n * Converts a BufferSource to a base64 string.\n *\n * @param buffer - The BufferSource to convert\n * @returns A base64 string representation of the buffer\n */\nexport function bufferSourceToBase64(buffer: BufferSource): string {\n  const uint8Array =\n    buffer instanceof Uint8Array\n      ? buffer\n      : new Uint8Array(buffer instanceof ArrayBuffer ? buffer : buffer.buffer)\n  return fromByteArray(uint8Array)\n}\n\n/**\n * Converts a base64 string to an ArrayBuffer\n * @internal\n */\nexport function base64ToArrayBuffer(base64: string): ArrayBuffer {\n  const uint8Array = toByteArray(base64)\n  return uint8Array.buffer as ArrayBuffer\n}\n\nexport function base64URLToArrayBuffer(base64url: string): ArrayBuffer {\n  const base64 = base64url.replace(/-/g, '+').replace(/_/g, '/')\n  const padded = base64.padEnd(\n    base64.length + ((4 - (base64.length % 4)) % 4),\n    '=',\n  )\n  const uint8Array = toByteArray(padded)\n  return uint8Array.buffer as ArrayBuffer\n}\n"]}